<div class="px-4 py-2 bg-[#04111D] flex items-center justify-between">
  <!-- Track Info -->
  <div class="flex items-center flex-1 truncate min-w-32 max-w-xs">
    <img [src]="currentTrack?.avatar ? 'server/track_avatar/' + currentTrack?.avatar : 'server/track_avatar/plug.png'" alt="Track Avatar" 
      class="w-16 h-16 mr-2 border-2 border-[#162A3E] object-cover select-none rounded-md pointer-events-none">
    <div>
      <h3 class="text-lg font-semibold">{{ currentTrack?.name }}</h3>
      <p class="text-gray-400 truncate">{{ currentTrack?.album?.name }}</p>
    </div>
  </div>

  <!-- Player Controls -->
  <div class="flex flex-col items-center justify-center mx-4 w-1/2">
    <div class="flex items-center">
      <button (click)="previousTrack()" class="p-2 mt-1 hover:text-gray-400 active:text-gray-500">
        <fa-icon [icon]="faBackward" class="fa-lg"></fa-icon>
      </button>
      <button (click)="togglePlay()" class="w-12 h-12 p-2 mx-2 btn-play-player">
        <fa-icon *ngIf="!isPlaying" [icon]="faCirclePlay" class="fa-2xl"></fa-icon>
        <fa-icon *ngIf="isPlaying" [icon]="faCirclePause" class="fa-2xl"></fa-icon>
      </button>
      <button (click)="nextTrack()" class="p-2 mt-1 hover:text-gray-400 active:text-gray-500">
        <fa-icon [icon]="faForward" class="fa-lg"></fa-icon>
      </button>
    </div>
         
    <!-- Progress Bar -->
    <div class="flex items-center justify-center w-full pb-2">
      <span class="text-sm text-gray-400">{{ formatTime(currentTime) }}</span>
      <input type="range" min="0" [max]="duration" [(ngModel)]="currentTime" (input)="seekTrack($event)" class="mx-4 audio-progress-bar">
      <span class="text-sm text-gray-400">{{ formatTime(duration) }}</span>
    </div>
  </div>

  <!-- Volume Controls -->
  <div class="flex items-center flex-1 justify-end max-w-xs ml-2 truncate">
    <button (click)="toggleMute()" class="p-2 text-white hover:text-gray-400">
      <fa-icon *ngIf="volume == 0" [icon]="faVolumeMute"></fa-icon>
      <fa-icon *ngIf="volume > 0 && volume <= 0.4" [icon]="faVolumeLow"></fa-icon>
      <fa-icon *ngIf="volume > 0.4" [icon]="faVolumeUp"></fa-icon>
    </button>
    <input type="range" min="0" max="1" step="0.01" [(ngModel)]="volume" (input)="setVolume($event)" class="w-24 ml-2 truncate styled-range">
  </div> 
</div>
